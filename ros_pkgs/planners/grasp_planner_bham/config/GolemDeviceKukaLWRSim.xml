<?xml version="1.0" encoding="utf-8"?>

<golem>
  <controller name="Kuka LWR simulator" enable_io="1" debug="0">
    <global_pose v1="0.0" v2="0.0" v3="0.0" roll="0.0" pitch="0.0" yaw="0.0"></global_pose>
    <io thread_priority="critical" thread_timeout="10000" state_queue_size="5000" command_queue_size="500" time_quant="0.0001" cycle_avr_len="50" cycle_dur_ctrl="0" cycle_dur_init="0.0011" cycle_dur_offs="0.001" cycle_dur_max_dev="5.0" sim_delta_recv="0.0001" sim_delta_send="0.0001"/>
    <limits pos_tolerance="0.0031415927" vel_tolerance="0.031415927" acc_tolerance="0.31415927"/>

    <chain name="Kuka LWR arm" custom_kinematics="0" linked_chain_index="-1">
      <local_pose v1="0.0" v2="0.0" v3="0.0" roll="0.0" pitch="0.0" yaw="0.0"></local_pose>
      <reference_pose v1="0.0" v2="0.0" v3="0.1041" roll="0.0" pitch="0.0" yaw="0.0"></reference_pose>
      <links L0="0.200" L2="0.400" L4="0.390" L7="0.1041"/>
      <encoder_offset c1="0.0" c2="0.0" c3="0.0" c4="0.0" c5="0.0" c6="0.0" c7="0.0"/>

      <joint name="Axis #1">
        <min pos="-2.9670597284" vel="-4.3633231300" acc="-31.415926"></min>
        <max pos="+2.9670597284" vel="+4.3633231300" acc="+31.415926"></max>
        <trn v1="0.0" v2="0.0" v3="0.0" w1="0.0" w2="0.0" w3="1.0" th="0.0"></trn>
        <trn_init v1="0.0" v2="0.0" v3="0.0" w1="0.0" w2="0.0" w3="0.0" th="0.0"></trn_init>

        <bounds type="box" group="1">
          <dimensions v1="0.05" v2="0.05" v3="0.100"/>
          <pose v1="+0.01" v2="+0.02" v3="0.100" roll="0.0" pitch="0.0" yaw="0.0"/>
        </bounds>
        <!--<bounds type="convex_mesh" group="1">
          <pose v1="0.0" v2="0.0" v3="0.191" roll="0.0" pitch="0.0" yaw="0.0"/>
          <vertex v1="-0.06" v2="-0.06" v3="-0.191"/>
          <vertex v1="-0.06" v2="-0.06" v3="0.06"/>
          <vertex v1="-0.06" v2="0.112" v3="-0.191"/>
          <vertex v1="-0.06" v2="0.112" v3="0.06"/>
          <vertex v1="0.06" v2="-0.06" v3="-0.191"/>
          <vertex v1="0.06" v2="-0.06" v3="0.06"/>
          <vertex v1="0.06" v2="0.112" v3="-0.191"/>
          <vertex v1="0.06" v2="0.112" v3="0.06"/>
          <triangle t1="3" t2="7" t3="5"/>
          <triangle t1="7" t2="6" t3="5"/>
          <triangle t1="3" t2="1" t3="0"/>
          <triangle t1="1" t2="3" t3="5"/>
          <triangle t1="4" t2="6" t3="0"/>
          <triangle t1="6" t2="4" t3="5"/>
          <triangle t1="1" t2="4" t3="0"/>
          <triangle t1="4" t2="1" t3="5"/>
          <triangle t1="2" t2="3" t3="0"/>
          <triangle t1="6" t2="2" t3="0"/>
          <triangle t1="3" t2="2" t3="7"/>
          <triangle t1="2" t2="6" t3="7"/>
        </bounds>-->
        <bounds type="sphere" group="1" radius="0.075">
          <pose v1="0.0" v2="0.0" v3="0.200" roll="0.0" pitch="0.0" yaw="0.0"/>
        </bounds>
      </joint>
      <joint name="Axis #2">
        <min pos="-2.0943951024" vel="-4.3633231300" acc="-31.415926"></min>
        <max pos="+2.0943951024" vel="+4.3633231300" acc="+31.415926"></max>
        <trn v1="0.20" v2="0.0" v3="0.0" w1="0.0" w2="-1.0" w3="0.0" th="0.0"></trn>
        <trn_init v1="0.0" v2="0.0" v3="0.2" w1="0.0" w2="0.0" w3="0.0" th="1.0"></trn_init>

        <bounds type="box" group="1">
          <dimensions v1="0.05" v2="0.05" v3="0.200"/>
          <pose v1="+0.01" v2="-0.02" v3="0.200" roll="0.0" pitch="0.0" yaw="0.0"/>
        </bounds>
        <!--<bounds type="convex_mesh" group="1">
          <pose v1="0.0" v2="0.0" v3="0.112" roll="1.5" pitch="0.0" yaw="0.0"/>
          <vertex v1="-0.06" v2="-0.06" v3="-0.06"/>
          <vertex v1="-0.06" v2="-0.06" v3="0.112"/>
          <vertex v1="-0.06" v2="0.208" v3="-0.06"/>
          <vertex v1="-0.06" v2="0.208" v3="0.112"/>
          <vertex v1="0.06" v2="-0.06" v3="-0.06"/>
          <vertex v1="0.06" v2="-0.06" v3="0.112"/>
          <vertex v1="0.06" v2="0.208" v3="-0.06"/>
          <vertex v1="0.06" v2="0.208" v3="0.112"/>
          <triangle t1="3" t2="7" t3="5"/>
          <triangle t1="7" t2="6" t3="5"/>
          <triangle t1="3" t2="1" t3="0"/>
          <triangle t1="1" t2="3" t3="5"/>
          <triangle t1="4" t2="6" t3="0"/>
          <triangle t1="6" t2="4" t3="5"/>
          <triangle t1="1" t2="4" t3="0"/>
          <triangle t1="4" t2="1" t3="5"/>
          <triangle t1="2" t2="3" t3="0"/>
          <triangle t1="6" t2="2" t3="0"/>
          <triangle t1="3" t2="2" t3="7"/>
          <triangle t1="2" t2="6" t3="7"/>
        </bounds>-->
        <bounds type="sphere" group="1" radius="0.075">
          <pose v1="0.0" v2="0.0" v3="0.400" roll="0.0" pitch="0.0" yaw="0.0"/>
        </bounds>
      </joint>
      <joint name="Axis #3">
        <min pos="-2.9670597284" vel="-4.3633231300" acc="-31.415926"></min>
        <max pos="+2.9670597284" vel="+4.3633231300" acc="+31.415926"></max>
        <trn v1="0.0" v2="0.0" v3="0.0" w1="0.0" w2="0.0" w3="1.0" th="0.0"></trn>
        <trn_init v1="0.0" v2="0.0" v3="0.6" w1="0.0" w2="0.0" w3="0.0" th="1.0"></trn_init>
      </joint>
      <joint name="Axis #4">
        <min pos="-2.0943951024" vel="-4.3633231300" acc="-31.415926"></min>
        <max pos="+2.0943951024" vel="+4.3633231300" acc="+31.415926"></max>
        <trn v1="0.0" v2="-0.60" v3="0.0" w1="-1.0" w2="0.0" w3="0.0" th="0.0"></trn>
        <trn_init v1="0.0" v2="0.0" v3="0.600" w1="0.0" w2="0.0" w3="0.0" th="1.0"></trn_init>

        <bounds type="box" group="1">
          <dimensions v1="0.05" v2="0.05" v3="0.195"/>
          <pose v1="-0.01" v2="0.0" v3="0.200" roll="0.0" pitch="0.0" yaw="0.0"/>
        </bounds>
        <bounds type="sphere" group="1" radius="0.075">
          <pose v1="0.0" v2="0.0" v3="0.395" roll="0.0" pitch="0.0" yaw="0.0"/>
        </bounds>
      </joint>
      <joint name="Axis #5">
        <min pos="-2.9670597284" vel="-4.3633231300" acc="-31.415926"></min>
        <max pos="+2.9670597284" vel="+4.3633231300" acc="+31.415926"></max>
        <trn v1="0.0" v2="0.0" v3="0.0" w1="0.0" w2="0.0" w3="1.0" th="0.0"></trn>
        <trn_init v1="0.0" v2="0.0" v3="0.990" w1="0.0" w2="0.0" w3="0.0" th="1.0"></trn_init>
      </joint>
      <joint name="Axis #6">
        <min pos="-2.0943951024" vel="-11.5191730632" acc="-31.415926"></min>
        <max pos="+2.0943951024" vel="+11.5191730632" acc="+31.415926"></max>
        <trn v1="0.0" v2="0.99" v3="0.0" w1="1.0" w2="0.0" w3="0.0" th="0.0"></trn>
        <trn_init v1="0.0" v2="0.0" v3="0.990" w1="0.0" w2="0.0" w3="0.0" th="1.0"></trn_init>
      </joint>
      <joint name="Axis #7">
        <min pos="-2.9670597284" vel="-11.5191730632" acc="-31.415926"></min>
        <max pos="+2.9670597284" vel="+11.5191730632" acc="+31.415926"></max>
        <!--<trn v1="-0.99" v2="0.0" v3="0.0" w1="0.0" w2="1.0" w3="0.0" th="0.0"></trn>
        <trn_init v1="0.0" v2="0.0" v3="0.990" w1="0.0" w2="0.0" w3="0.0" th="1.0"></trn_init>-->
        <trn v1="0.0" v2="0.0" v3="0.0" w1="0.0" w2="0.0" w3="1.0" th="0.0"></trn>
        <trn_init v1="0.0" v2="0.0" v3="0.990" w1="0.0" w2="0.0" w3="0.0" th="1.0"></trn_init>

        <!--<bounds type="box" group="1">
          <dimensions v1="0.01" v2="0.01" v3="0.04"/>
          <pose v1="0.0" v2="0.0" v3="0.00" roll="0.0" pitch="0.0" yaw="0.0"/>
        </bounds>-->
        <!--<bounds type="box" group="1">
          <dimensions v1="0.04" v2="0.04" v3="0.01"/>
          <pose v1="0.0" v2="0.0" v3="1.0926" roll="0.0" pitch="0.0" yaw="0.0"/>
        </bounds>-->
      </joint>
    </chain>
  </controller>

  <planner>
    <heuristic>
      <collision enabled="1" path_dist_delta="0.025" skin_thickness="0.02"/>
      <cost dist_goal_fac="1.0" dist_root_fac="0.2" dist_dflt_fac="0.01" dist_limits_fac="10.0" dist_path_fac="1.0"/>
      <chain enabled_lin="1" enabled_ang="1" dist_norm="0.8" dist_linear_max="0.3" dist_angular_max="0.4" dist_configspace_workspace_norm="0.98"></chain>
      <joint enabled="1" dflt_pos="0.0" dist_dflt_fac="0.01" dist_max="2.0" collision_bounds="1" collision_joints="2, 3"></joint>
      <joint enabled="1" dflt_pos="0.0" dist_dflt_fac="0.01" dist_max="2.0" collision_bounds="1" collision_joints=""></joint>
      <joint enabled="1" dflt_pos="0.0" dist_dflt_fac="0.01" dist_max="2.0" collision_bounds="1" collision_joints=""></joint>
      <joint enabled="1" dflt_pos="0.0" dist_dflt_fac="0.01" dist_max="3.0" collision_bounds="1" collision_joints=""></joint>
      <joint enabled="1" dflt_pos="0.0" dist_dflt_fac="0.01" dist_max="3.0" collision_bounds="1" collision_joints=""></joint>
      <joint enabled="1" dflt_pos="0.0" dist_dflt_fac="0.01" dist_max="3.0" collision_bounds="1" collision_joints=""></joint>
      <joint enabled="1" dflt_pos="0.0" dist_dflt_fac="0.01" dist_max="3.0" collision_bounds="1" collision_joints=""></joint>
    </heuristic>
    <global_finder dist_scale_fac="0.7" range_fac="0.5" num_iterations="4">
      <global_path_finder graph_size="10000" waypoint_init_trials="10000">
        <generator_root weight="1.0">
          <delta dim="7" c1="6.28318531" c2="6.28318531" c3="6.28318531" c4="6.28318531" c5="6.28318531" c6="6.28318531" c7="6.28318531"/>
        </generator_root>
        <generator_goal weight="1.0">
          <delta dim="7" c1="6.28318531" c2="6.28318531" c3="6.28318531" c4="6.28318531" c5="6.28318531" c6="6.28318531" c7="6.28318531"/>
        </generator_goal>
      </global_path_finder>
      <local_path_finder graph_size="2000" waypoint_init_trials="10000">
        <generator_root weight="1.0">
          <delta dim="7" c1="6.28318531" c2="6.28318531" c3="6.28318531" c4="6.28318531" c5="6.28318531" c6="6.28318531" c7="6.28318531"/>
        </generator_root>
        <generator_goal weight="1.0">
          <delta dim="7" c1="6.28318531" c2="6.28318531" c3="6.28318531" c4="6.28318531" c5="6.28318531" c6="6.28318531" c7="6.28318531"/>
        </generator_goal>
      </local_path_finder>
    </global_finder>
    <local_finder>
      <range dim="7" c1="0.31415926" c2="0.31415926" c3="0.31415926" c4="0.31415926" c5="0.31415926" c6="0.31415926" c7="0.31415926"/>
    </local_finder>
    <optimisation num_iterations="500" t_init="0.1" t_final="0.01" e_norm="3.0e4" cross_prob="0.3" dist_path_thr="0.3"/>
    <kinematics minimum="1" population_size="100" generations_num="10000000" de_diff_fac="0.5" de_cross_prob="0.2" test_generations="1000" test_pairs="100" test_variance="1e-5" num_of_threads="-1" thread_priority="lowest"/>
    <profile average="1.0">
      <velocity dim="7" c1="1.0" c2="1.0" c3="1.0" c4="1.0" c5="1.0" c6="1.0" c7="1.0"/>
      <acceleration dim="7" c1="1.0" c2="1.0" c3="1.0" c4="1.0" c5="1.0" c6="1.0" c7="1.0"/>
    </profile>
  </planner>
</golem>
